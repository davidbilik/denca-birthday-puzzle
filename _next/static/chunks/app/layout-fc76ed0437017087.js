(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4812:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,4147,23)),Promise.resolve().then(n.t.bind(n,8489,23)),Promise.resolve().then(n.t.bind(n,347,23)),Promise.resolve().then(n.t.bind(n,8413,23)),Promise.resolve().then(n.bind(n,9536)),Promise.resolve().then(n.bind(n,1580))},9536:(e,t,n)=>{"use strict";n.d(t,{default:()=>y});var a=n(5155),o=n(2115),i=n(602),s=n(3444);function r(){let{puzzleState:e}=(0,i.l)(),[t,n]=(0,o.useState)(!1),r=e.solvedPuzzles.length/s.Pm*100;return(0,o.useEffect)(()=>{n(!0)},[]),(0,a.jsx)("div",{className:"fixed top-0 left-0 w-full h-2 bg-background/20",children:(0,a.jsx)("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:t?"".concat(r,"%"):"0%"}})})}var l=n(1714),c=n(5565);let d=e=>"string"!=typeof e,u=[{content:"\uD83C\uDF81",type:"emoji"},{content:"\uD83C\uDF88",type:"emoji"},{content:"\uD83C\uDF82",type:"emoji"},{content:"✨",type:"emoji"},{content:"\uD83C\uDF8A",type:"emoji"},{content:"\uD83C\uDF89",type:"emoji"},{content:"\uD83C\uDF1F",type:"emoji"},{content:"\uD83C\uDFAF",type:"emoji"},{content:"\uD83C\uDFAA",type:"emoji"},{content:{src:"/images/bernie1.png",alt:"Gift Box"},type:"image"},{content:{src:"/images/bernie2.png",alt:"Balloon"},type:"image"}],h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=1;return u.flatMap(n=>Array.from({length:e},()=>({...n,id:t++})))}(3),p=e=>{let{element:t,index:n}=e,o=0;o="image"===t.type?64:16+n%3*8;let i=15+n%5*5,s=n*(100/(h.length/2))%100;return(0,a.jsx)(l.P.div,{className:"absolute pointer-events-none",style:{fontSize:"emoji"===t.type?o:void 0,width:"image"===t.type?2*o:void 0,height:"image"===t.type?2*o:void 0,top:"100%",left:"".concat(s,"%")},animate:{top:["100%","-10%","-10%","100%"],rotate:[0,360],x:[0,"".concat(20*Math.sin(n),"%"),0]},transition:{duration:i,repeat:1/0,times:[0,.4,.6,1],ease:"linear",delay:.5*n%5,x:{duration:.5*i,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},rotate:{duration:.8*i,repeat:1/0,ease:"linear"}},children:"emoji"===t.type&&"string"==typeof t.content?t.content:d(t.content)?(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)(c.default,{src:t.content.src,alt:t.content.alt,fill:!0,className:"object-contain"})}):null},t.id)};function m(){let[e,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{t(!0),requestAnimationFrame(()=>t(!0))},[]),(0,a.jsx)("div",{className:"fixed inset-0 pointer-events-none bg-gradient-to-br from-primary/20 via-accent/20 to-secondary/20",children:e&&h.map((e,t)=>(0,a.jsx)(p,{element:e,index:t},e.id))})}var f=n(52),g=n(1580);function y(e){let{children:t}=e,{startTalking:n,stopTalking:s}=(0,g.c)();return(0,o.useEffect)(()=>{(0,f.H)({start:n,stop:s})},[n,s]),(0,a.jsxs)(i.w,{children:[(0,a.jsx)(m,{}),(0,a.jsx)(r,{}),t]})}},602:(e,t,n)=>{"use strict";n.d(t,{l:()=>c,w:()=>l});var a=n(5155),o=n(2115),i=n(3444);let s={currentPuzzleId:1,isComplete:!1,solvedPuzzles:[]},r=(0,o.createContext)(void 0);function l(e){let{children:t}=e,[n,l]=(0,o.useState)(()=>{{let e=localStorage.getItem("puzzleProgress");return e?JSON.parse(e):s}});return(0,o.useEffect)(()=>{localStorage.setItem("puzzleProgress",JSON.stringify(n))},[n]),(0,a.jsx)(r.Provider,{value:{puzzleState:n,markPuzzleSolved:e=>{l(t=>{let n=[...new Set([...t.solvedPuzzles,e])];return{currentPuzzleId:e+1,isComplete:n.length===i.Pm,solvedPuzzles:n}})},resetProgress:()=>{l(s)}},children:t})}function c(){let e=(0,o.useContext)(r);if(void 0===e)throw Error("usePuzzleContext must be used within a PuzzleProvider");return e}},1580:(e,t,n)=>{"use strict";n.d(t,{TalkingHeadProvider:()=>j,c:()=>k});var a=n(5155),o=n(2115),i=n(9656),s=n(9234),r=n(7249);class l extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:n}=e,i=(0,o.useId)(),s=(0,o.useRef)(null),c=(0,o.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,o.useContext)(r.Q);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:o}=c.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=i;let r=document.createElement("style");return d&&(r.nonce=d),document.head.appendChild(r),r.sheet&&r.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(r)}},[n]),(0,a.jsx)(l,{isPresent:n,childRef:s,sizeRef:c,children:o.cloneElement(t,{ref:s})})}let d=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:l,custom:d,presenceAffectsLayout:h,mode:p}=e,m=(0,s.M)(u),f=(0,o.useId)(),g=(0,o.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;l&&l()},[m,l]),y=(0,o.useMemo)(()=>({id:f,initial:n,isPresent:r,custom:d,onExitComplete:g,register:e=>(m.set(e,!1),()=>m.delete(e))}),h?[Math.random(),g]:[r,g]);return(0,o.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),o.useEffect(()=>{r||m.size||!l||l()},[r]),"popLayout"===p&&(t=(0,a.jsx)(c,{isPresent:r,children:t})),(0,a.jsx)(i.t.Provider,{value:y,children:t})};function u(){return new Map}var h=n(4710),p=n(5107);let m=e=>e.key||"";function f(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}var g=n(5403);let y=e=>{let{children:t,exitBeforeEnter:n,custom:i,initial:r=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:u="sync"}=e;(0,p.V)(!n,"Replace exitBeforeEnter with mode='wait'");let y=(0,o.useMemo)(()=>f(t),[t]),x=y.map(m),v=(0,o.useRef)(!0),b=(0,o.useRef)(y),w=(0,s.M)(()=>new Map),[P,j]=(0,o.useState)(y),[k,C]=(0,o.useState)(y);(0,g.E)(()=>{v.current=!1,b.current=y;for(let e=0;e<k.length;e++){let t=m(k[e]);x.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[k,x.length,x.join("-")]);let z=[];if(y!==P){let e=[...y];for(let t=0;t<k.length;t++){let n=k[t],a=m(n);x.includes(a)||(e.splice(t,0,n),z.push(n))}"wait"===u&&z.length&&(e=z),C(f(e)),j(y);return}let{forceRender:E}=(0,o.useContext)(h.L);return(0,a.jsx)(a.Fragment,{children:k.map(e=>{let t=m(e),n=y===k||x.includes(t);return(0,a.jsx)(d,{isPresent:n,initial:(!v.current||!!r)&&void 0,custom:n?void 0:i,presenceAffectsLayout:c,mode:u,onExitComplete:n?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==E||E(),C(b.current),l&&l())},children:e},t)})})};var x=n(1714),v=n(5565);let b={bottom:15,left:48,width:20};function w(e){let{isVisible:t}=e;return(0,a.jsx)(y,{children:t&&(0,a.jsx)(x.P.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-4 right-4 w-48 h-48 sm:w-64 sm:h-64",children:(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)(v.default,{src:"/images/face.png",alt:"Face",fill:!0,sizes:"(max-width: 768px) 192px, 256px",className:"object-contain",priority:!0}),(0,a.jsx)(x.P.div,{className:"absolute -translate-x-1/2 bg-black",style:{bottom:"".concat(b.bottom,"%"),left:"".concat(b.left,"%"),width:"".concat(b.width,"%"),height:"30px",borderRadius:"50%"},initial:{opacity:0},animate:{opacity:[0,1,1,0,0]},transition:{repeat:1/0,times:[0,.2,.5,.7,1],ease:"linear",duration:.4}})]})})})}let P=(0,o.createContext)(void 0);function j(e){let{children:t}=e,[n,i]=(0,o.useState)(!1),s=(0,o.useCallback)(()=>{i(!0)},[]),r=(0,o.useCallback)(()=>{i(!1)},[]);return(0,a.jsxs)(P.Provider,{value:{startTalking:s,stopTalking:r},children:[t,(0,a.jsx)(w,{isVisible:n})]})}function k(){let e=(0,o.useContext)(P);if(void 0===e)throw Error("useTalkingHead must be used within a TalkingHeadProvider");return e}},3444:(e,t,n)=>{"use strict";n.d(t,{Pm:()=>o,t$:()=>i,zJ:()=>s});let a=[{id:1,type:"text",question:"Let's start with something simple. What has a face and two hands but no arms or legs?",answer:"clock",nextLocationClue:"Check around the luggages",hint:"We dont have any at home..."},{id:2,type:"morse",question:".- -. ... .-- . .-. / - --- / - .... . / ..- .-.. - .. -- .- - . / --.- ..- . ... - .. --- -. / --- ..-. / .-.. .. ..-. . / - .... . / ..- -. .. ...- . .-. ... . / .- -. -.. / . ...- . .-. -.-- - .... .. -. --.",answer:"42",nextLocationClue:"Check where the old phones are stored",hint:"You know it in youe heart..."},{id:3,type:"cipher",question:"BJ XMTZQI LWNQQ RTWJ",answer:"WE SHOULD GRILL MORE",nextLocationClue:"Check what's inside of a grill \uD83D\uDD0D",hint:"Enter deciphered phrase. ",additionalProps:{shift:5}},{id:4,type:"image-choice",question:"\xa1Hola foodie! Can you spot the authentic Oaxacan tlayudas among these Mexican dishes? Your dinner plans depend on it! \uD83C\uDF2E",answer:"tlayudas",nextLocationClue:"\xa1Excelente! Check behind the Mexican souvenir we brought from Mexico \uD83C\uDDF2\uD83C\uDDFD",hint:"Look for the large, crispy tortilla topped with refried beans, meat, and vegetables - it's like a Mexican pizza!",additionalProps:{imageChoices:[{id:1,path:"/images/enchiladas.jpeg",label:"Enchiladas"},{id:2,path:"/images/tlayudas.webp",label:"Tlayudas",isCorrect:!0},{id:3,path:"/images/tacos.jpg",label:"Tacos"},{id:4,path:"/images/quesadillas.jpg",label:"Quesadillas"}]}},{id:5,type:"map",question:"Blind maps. You love it. You are the absolute beast. Teachers and students were afraid of your skills. Let's check what's left in those rusty brains. Find these major cities on the map.",answer:"europe",nextLocationClue:"Great geography skills! Look like you have a lot of power.. power .. where do we store batteries? Can you check pls? \uD83D\uDDFA️",hint:"Think about famous landmarks in each city...",additionalProps:{mapPuzzle:{cities:[{name:"Paris",coordinates:[48.8566,2.3522],points:100,maxDistance:300},{name:"Berlin",coordinates:[52.52,13.405],points:100,maxDistance:300},{name:"Rome",coordinates:[41.9028,12.4964],points:100,maxDistance:300},{name:"London",coordinates:[51.5074,-.1278],points:100,maxDistance:300},{name:"Tallinn",coordinates:[59.437,24.7536],points:100,maxDistance:300},{name:"Podgorica",coordinates:[42.4304,19.2594],points:100,maxDistance:300}],requiredPoints:350,attemptsPerCity:1}}},{id:6,type:"math",question:"Let's test your math skills. I've heard you were pretty good as a scholar. Solve for x: log₂(x) = 3",answer:"8",nextLocationClue:"For this we have to go for a little walk \uD83D\uDE2C Do you know where is our \uD83D\uDEF5? Check the trunk.",hint:"Googling is allowed."}],o=a.length,i=e=>a.find(t=>t.id===e),s=e=>e===o},52:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,H:()=>s});var a=n(5556);let o={start:["/sounds/start.m4a"],correct:["/sounds/correct1.m4a","/sounds/correct2.m4a","/sounds/correct3.m4a"],incorrect:["/sounds/incorrect.m4a"],complete:["/sounds/complete.m4a"],hint:["/sounds/hint.m4a"]},i={start:()=>{},stop:()=>{}},s=e=>{i=e},r=e=>{try{let t=o[e],n=t[Math.floor(Math.random()*t.length)],s=new a.Howl({src:[n],volume:.7,onend:()=>{i.stop()}});i.start(),s.play()}catch(e){console.error("Failed to play sound:",e)}}},8413:()=>{},347:()=>{},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_0b488e",variable:"__variable_0b488e"}},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_e1670a",variable:"__variable_e1670a"}}},e=>{var t=t=>e(e.s=t);e.O(0,[896,484,41,565,441,517,358],()=>t(4812)),_N_E=e.O()}]);